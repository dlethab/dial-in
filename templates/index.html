<!DOCTYPE html>



<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZQXZRJC0LS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-ZQXZRJC0LS');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dial In</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
    <!-- ✅ Load Lexend font -->
    <!--<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600&display=swap" rel="stylesheet"> -->
</head>
<body>
    <div id="game-intro">
        <div class="intro-content">
            <img src="static/logo.png" alt="Game Logo" class="game-logo">
            <p>Use the number code to guess the <br>10-letter word or phrase.<br><br>You have 3 chances.</p>
            <button id="play-btn">Play</button>
            <p class="puzzle-info">{{current_date}}<br>No.{{game_number}}</p>
        </div>
    </div>

    <!-- ✅ Toolbar at the top -->
    <div id="toolbar">
        <img src="static/logo.png" alt="Game Logo" class="toolbar-logo">
        <p id="game-info">Dial In #{{ game_number }} – {{ current_date }}</p>
        <div id="help-icon">?</div>
    </div>

    <!-- ✅ "How to Play" Popup -->
    <div id="how-to-play-popup" class="popup-hidden">
        <div class="popup-content">
            <button id="close-how-to-play">✖</button>
            <h2>How To Play</h2>
            <p>Guess the 10-letter word or phrase in 3 tries.</p>
            <ul>
                <li>Each guess must be a valid 10-letter word or phrase.</li>
                <li>Decipher the hidden code by matching the letters to the numbers from the keypad.</li>
                <li>The color of the boxes will show if you've placed a letter in the correct spot.</li>
            </ul>

        <!-- ✅ Number Mapping Visual -->
        <div class="number-mapping">
            <!-- Left side: Image -->
            <img src="static/four.png" alt="Mapping Guide" class="mapping-image">

            <!-- Middle: Three stacked number cells -->
            <div class="number-column">
                    <div class="example-cell">G</div>
                    <div class="example-cell">H</div>
                    <div class="example-cell">I</div>
            </div>

                <!-- Right Side: Single Number with Arrows -->
            <div class="final-number">
                <div class="example-cell correct">H</div>
            </div>


            </div>
                    <!-- ✅ Example section -->
                    <h3>Example</h3>
                    
                    <div class="example-row">
                        <div class="example-cell correct">J</div>
                        <div class="example-cell correct">A</div>
                        <div class="example-cell correct">Z</div>
                        <div class="example-cell correct">Z</div>
                        <div class="example-cell correct"> </div>
                        <div class="example-cell correct">M</div>
                        <div class="example-cell incorrect">O</div>
                        <div class="example-cell correct">S</div>
                        <div class="example-cell correct">I</div>
                        <div class="example-cell correct">C</div>
                    </div>
                    <p>The gray box <strong>O</strong> is not the correct letter.</p>
                    <p>The green boxes are all correct!</p>
                    <!-- ✅ Horizontal Divider & New Puzzle Info -->
                    <hr class="popup-divider">
                    <p class="new-puzzle-info">A new puzzle is released at midnight every day.</p>

                </div>
            <!-- ✅ Play Button -->
            <div class="play-button-wrapper">
                <button id="play-button" class="play-button">PLAY</button>
            </div>
    </div>

    
    <div class="container" id="game-container">
        <div id="game-timer" class="game-timer">0:00</div>

        <input type="text" id="hidden-mobile-input" maxlength="1">

        
        <!--<div class="number-code" data-word="{{ word }}"></div>-->
        <!-- ✅ No data-word attribute anymore -->
        <div id="number-grid" class="grid">
            {% for digit in number_code %}
                <div class="grid-cell">{{ digit }}</div>
            {% endfor %}
        </div>

        <div id="number-grid" class="grid"></div>
        <div id="guess-container"></div>

        <div id="guess-input-grid" class="grid"></div>

        <!--add image-->
        <div id="keyboard-container">
            <img src="{{ url_for('static', filename='lightmode-keypad.png') }}" alt="Phone Keypad" class="keyboard-image">
        </div>


        <button id="submit-btn" class="circle-button disabled" disabled>
            <img src="static/phoneicon.png" alt="Call" class="circle-icon">
        </button>

        <!-- Hidden input field to prevent mobile keyboard from opening -->
        <input type="text" id="hidden-mobile-input" style="position: absolute; top: -1000px;">


        <!-- Share button to reopen popup -->
        <button id="share-btn" class="hidden-share share-btn" onclick="showShareablePopup()">Share</button>
        
        
        <div id="shareable-popup" class="hidden">
            <button id="close-popup">✖</button> <!-- ✅ Moved to top right -->
            <!-- ✅ Game Logo at the Top -->
            <img src="static/logo.png" alt="Game Logo" class="popup-logo">


            <div class="popup-content">
                <h2 id="popup-message">Game Over!</h2> <!-- ✅ Dynamic message -->

                <p id="code-word"></p>
                <p id="final-time" class="final-time-text"></p>
                <p id="shareable-text"></p>
                <button id="copy-btn">Copy</button>
                <!-- ✅ Countdown Message -->
                <p id="play-again-message" class="countdown-message">
                    Want to play again?<br>
                    Come back tomorrow for a new word in 
                    <span id="countdown-hours" class="countdown-timer"></span> 
                    <span class="countdown-message">and</span> 
                    <span id="countdown-minutes" class="countdown-timer"></span>!
                </p>
            </div>
        </div>
    </div>
    <!-- Custom QWERTY Keyboard -->
    <div id="custom-keyboard" class="keyboard-container">
        <!-- First Row of Keys -->
        <div class="keyboard-row">
            <button class="key">Q</button>
            <button class="key">W</button>
            <button class="key">E</button>
            <button class="key">R</button>
            <button class="key">T</button>
            <button class="key">Y</button>
            <button class="key">U</button>
            <button class="key">I</button>
            <button class="key">O</button>
            <button class="key">P</button>
        </div>

        <!-- Second Row of Keys -->
        <div class="keyboard-row">
            <button class="key">A</button>
            <button class="key">S</button>
            <button class="key">D</button>
            <button class="key">F</button>
            <button class="key">G</button>
            <button class="key">H</button>
            <button class="key">J</button>
            <button class="key">K</button>
            <button class="key">L</button>
        </div>

        <!-- Third Row of Keys -->
        <div class="keyboard-row">
            <button class="key space-bar">SPACE</button>
            <button class="key">Z</button>
            <button class="key">X</button>
            <button class="key">C</button>
            <button class="key">V</button>
            <button class="key">B</button>
            <button class="key">N</button>
            <button class="key">M</button>
            <button class="key backspace">&#9003;</button>
        </div>
    </div>
</body>
</html>